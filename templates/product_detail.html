{% extends 'base.html' %}

{% block content %}
<div class="container mx-auto px-6 md:px-12 py-20">
    <div class="flex flex-col md:flex-row gap-16">
        
        <div class="w-full md:w-3/5 space-y-4">
            {% for image in product.images.all %}
                <div class="bg-gray-50 aspect-[4/5] overflow-hidden rounded-sm w-full border border-gray-100">
                    <img src="{{ image.image.url }}" alt="{{ product.name }}" class="w-full h-full object-cover hover:scale-105 transition duration-[2000ms]">
                </div>
            {% empty %}
                <div class="bg-gray-50 aspect-[4/5] flex items-center justify-center text-gray-300 uppercase tracking-widest text-xs">
                    [ No Image Available ]
                </div>
            {% endfor %}
        </div>

        <div class="w-full md:w-2/5 md:sticky md:top-32 self-start space-y-8">
            
            <nav class="text-[9px] uppercase tracking-[0.3em] text-gray-400">
                <a href="{% url 'home' %}" class="hover:text-black transition-colors">Home</a> / {{ product.category.name }}
            </nav>

            <div class="border-b border-gray-100 pb-8">
                <h1 class="font-serif text-4xl md:text-5xl text-black leading-none mb-4 tracking-tight">
                    {{ product.name }}
                </h1>
                <p class="text-xl font-medium text-gray-900 tracking-wide">₹{{ product.price }}</p>
                <p class="text-[10px] text-gray-400 mt-2 uppercase tracking-widest">Tax included.</p>
            </div>

            <div class="space-y-4">
                <a href="{% url 'add_to_cart' product.id %}" class="block text-center w-full bg-[#FB7185] text-white uppercase text-[11px] font-bold tracking-[0.2em] py-5 rounded-sm hover:bg-[#F43F5E] transition-all shadow-lg hover:shadow-xl active:scale-95">
                    Add to Cart — ₹{{ product.price }}
                </a>
                <p class="text-center text-[10px] text-gray-400">Secure checkout powered by Happy Heavens.</p>
            </div>

            <div class="pt-4">
                <h3 class="font-serif text-lg mb-4 italic text-gray-800">The Story</h3>
                <div class="text-sm text-gray-600 leading-relaxed font-light space-y-4">
                    {{ product.description|linebreaks }}
                </div>
            </div>

            <div class="grid grid-cols-2 gap-4 pt-8 border-t border-gray-100">
                <div class="flex items-center space-x-3 opacity-70">
                    <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M5 13l4 4L19 7"></path></svg>
                    <span class="text-[9px] uppercase tracking-widest text-gray-600">Handmade Quality</span>
                </div>
                <div class="flex items-center space-x-3 opacity-70">
                    <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                    <span class="text-[9px] uppercase tracking-widest text-gray-600">Fast Shipping</span>
                </div>
            </div>

        </div>
    </div>
</div>
{% endblock %}